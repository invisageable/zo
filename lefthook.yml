pre-commit:
  piped: true
  commands:
    typos:
      run: typos --format=brief

    fmt:
      glob: "**/*.rs"
      run: cargo fmt --all
      stage_fixed: true

    clippy:
      glob: "**/*.rs"
      run: cargo clippy --all --all-targets -- -D warnings

    test:
      glob: "**/*.rs"
      run: cargo nextest run --workspace --all-features
